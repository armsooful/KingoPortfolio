# Phase 6 실행가이드 (Revised)

## 0. Phase 6의 위치와 목적 (재정의)

### Phase 6의 목적
사용자에게 노출되는 “평가 결과 표현”이 정보 제공 범위를 넘지 않도록 사전에 고정·차단·검증하는 단계

- 기능 구현 ❌
- 분석 고도화 ❌
- 표현·비교·판단의 경계 고정 ⭕

Phase 6이 끝나면:
- Phase 7에서는 기능만 얹고
- 법적·표현적 판단은 더 이상 하지 않는다

## 1. Phase 6에서 다루는 대상 (명확화)

### Phase 6의 통제 대상
- 결과 문구
- 결과 비교 방식
- 결과 시각화 표현
- 결과 고지 구조
- 결과 일관성

### Phase 6에서 다루지 않는 것
- 종목 선택 로직
- 데이터 수집 방식
- 계산 알고리즘 성능
- UI 미학/디자인

### 1.1 Phase 6 기준선 선언 (통합)

#### 공식 정의
> “추천·권유 없이, 내부 판단 구조를 고도화하되, 외부에서는 정보 제공 서비스의 지위를 유지하는 단계”

- ❌ 투자 판단을 대신하지 않는다
- ❌ 개인별 맞춤 결론을 제공하지 않는다
- ✅ 판단을 돕는 구조와 근거를 투명하게 제공한다

#### 절대 금지 영역 (Red Line)
- 개별 종목 추천
- “매수/매도/보유” 직접적 판단 제시
- 사용자별 최적 포트폴리오 제안
- 성과 기대치(수익률, 목표 금액) 제시
- “AI가 추천/판단/최적화” 표현
- 백테스트 수익률 전면 노출 및 우월성 주장

#### 허용 영역 (Allowed Zone)
- Rule 기반 판단 유지
- 시장 신호 기반 가중치 보정(내부용)
- 전략별 성과 분석 및 내부 피드백 루프
- 시장 구조 설명, 자산군 특성 비교, 과거 데이터 기반 통계 정보

#### 운영·리스크 원칙
- 모든 판단 결과는 추적 가능해야 한다
- “왜 이 상태가 나왔는가” 설명 불가 → 배포 불가
- 자동화 로직에는 수동 차단 스위치 필수
- 규제 해석은 보수적으로, 기술은 그보다 더 보수적으로

#### 외부 커뮤니케이션 원칙
- 허용: “정보 제공”, “시장 구조 정리”, “전략 유형 소개”
- 금지: “유망”, “AI가 골라줌”, “수익 극대화”

## 2. Phase 6 핵심 작업 목록

### 2.1 결과 표현 경계 정의 (최우선)

#### 허용되는 표현
- “과거 ○○ 기간의 데이터 기준”
- “선택한 구성에 대해 계산된 결과”
- “다음 지표가 관측됨”

#### 금지되는 표현 (코드/문구 레벨 차단)
- 추천 / 최적 / 우수 / 효율
- 더 낫다 / 불리하다
- 향후 / 기대 / 전망 / 가능성
- 승자 / 순위 / Top / 점수

📌 산출물
- `docs/compliance/20260114_forbidden_terms_list.md`
- `docs/phase6/specs/allowed_phrases_v2.md`

### 2.2 결과 출력 스키마 고정 (Output Schema v2)

#### 출력 스키마 원칙
- 상태/점수 개념 제거
- 과거 성과·리스크 지표만 포함
- 모든 결과에 기간·기준 명시

#### 필수 필드 예시
```json
{
  "period": {
    "start": "2019-01-01",
    "end": "2024-12-31"
  },
  "metrics": {
    "cagr": 0.074,
    "volatility": 0.142,
    "max_drawdown": -0.286
  },
  "disclaimer_version": "v2"
}
```

📌 산출물
- `output_schema_v2.json`

### 2.3 비교 기능 안전 규칙 고정

#### 허용 비교
- 동일 사용자
- 사용자 직접 구성 포트폴리오 간
- 수치 병렬 비교

#### 금지 비교
- 다른 사용자와 비교
- 시장/지수 대비 우열
- 자동 승자/우열 표시

📌 산출물
- `comparison_rules_v2.md`

### 2.4 시각화(UI) 통제 규칙

#### 허용
- 동일 축 그래프 병렬
- 동일 색상 스케일
- 단순 수치 표

#### 금지
- 강조 색상(좋음/나쁨 암시)
- 배지/아이콘/마커
- “추천 구간” 표시

📌 산출물
- `ui_guard_rules_v2.md`

### 2.5 고지 문구 고정 (Disclaimers)

#### 고지 원칙
- 모든 결과 화면에 반복
- 숨김/접기 ❌
- 버전 관리 필수

📌 산출물
- `docs/phase6/specs/disclaimer_v2.md`

## 3. Golden Test 재정의

### 목적
같은 입력 → 같은 출력 → 같은 표현

### 테스트 대상
- 출력 수치의 재현성
- 문구 변경 여부
- 금지어 포함 여부
- 비교 규칙 위반 여부

### 테스트 시나리오 예
- 동일 포트폴리오 + 기간 → 결과 동일
- 포트폴리오 A/B 비교 → 우열 문구 없음
- 출력 텍스트 → 금지어 0건

📌 산출물
- `test_golden_v2.py`
- `golden_output_sample_v2.json`

## 4. Phase 6 완료 기준 (Exit Criteria)
상세 체크리스트는 아래 문서를 따른다.

📌 산출물
- `docs/phase6/checklists/phase6_exit_criteria.md`

## 5. Phase 6 → Phase 7 인계 규칙

Phase 7에서는:
- Phase 6에서 고정한 문구/규칙을 변경할 수 없다
- 새로운 지표 추가 시 → Phase 6 재개 필요
- UI 변경은 가능하나 표현 의미 변경은 불가

## 6. Phase 6 한 줄 요약 (내부 공유용)
Phase 6은 계산을 만드는 단계가 아니라, “오해될 수 없는 결과”를 고정하는 단계다.

## 7. 최종 결론
- Phase 6은 유효
- 작업은 중단 없이 계속
- 다만 기준은 “상태 평가” → “과거 데이터 기반 성과·리스크 평가”로 전환
