# Foresto 프로젝트 개발 매뉴얼
최초작성일자: 2026-01-13
최종수정일자: 2026-01-18

## 의사결정 보조형 투자 인프라 (Decision Support Investment Infrastructure)

본 문서는 Foresto 프로젝트를 실제로 개발·운영하기 위해  
**개발자에게 공유하는 공식 매뉴얼**이다.

---

## 1. 프로젝트 선언문

Foresto는 로보어드바이저가 아니다.  
Foresto는 **투자 판단을 대신하지 않고, 판단의 결과를 설명하는 시스템**이다.

### 프로젝트 미션
- 투자 결과의 구조를 데이터로 설명한다
- 손실과 회복을 중심으로 투자 현실을 보여준다
- 규제 리스크 없이 장기 확장이 가능한 인프라를 구축한다

---

## 2. 개발 철학 (모든 개발자의 공통 전제)

### 2.1 우리가 만드는 것
- 시뮬레이션 기반 의사결정 보조 도구
- 전략 간 결과 비교 시스템
- 설명 가능한 투자 데이터 구조

### 2.2 우리가 만들지 않는 것
- 자동 매매 시스템
- 개별 종목 추천 기능
- 수익률 예측·보장 로직
- 계좌·잔고·실거래 연동

> ⚠️ 위 항목은 **기술적으로 가능하더라도 의도적으로 배제**한다.

---

## 3. 규제 및 표현 원칙 (필수 숙지)

### 허용되는 표현
- “과거 데이터 기준 시뮬레이션 결과입니다”
- “이 시나리오는 다음과 같은 리스크 특성을 가집니다”

### 금지되는 표현
- 추천, 최적, 반드시, 보장, 유리하다
- “이 포트폴리오를 선택하세요”

### 책임 구조
- 판단: 사용자
- 실행: 외부 증권사
- Foresto의 역할: 분석·설명·비교

---

## 4. 시스템 아키텍처 개요

### 4.1 구성 요소
- **Frontend**: 시나리오 비교·시각화
- **Backend API**: 시뮬레이션 요청/응답
- **Analytics Engine**: 수익률·리스크 계산
- **Database**: 시계열·시뮬레이션 결과 저장

### 4.2 권장 기술 스택
- Backend: Python(FastAPI) 또는 Java(Spring Boot)
- Analytics: Python (NumPy, Pandas)
- DB: PostgreSQL (Native Partitioning)
- Infra: Docker, Cloud VM

---

## 5. 데이터 모델 개요 (논리 기준)

### 5.1 핵심 테이블 그룹
- 기준정보: 금융상품기준정보, 거래일캘린더
- 시장원천: 일봉가격, 환율일봉
- 분석마트: 일간수익률, 기간리스크지표
- 전략: 시나리오정의, 포트폴리오모델, 포트폴리오구성비
- 시뮬레이션: 시뮬레이션실행, 시뮬레이션경로, 시뮬레이션요약지표

### 5.2 데이터 원칙
- 모든 시계열은 날짜 기준 파티셔닝
- 모든 결과는 모델버전 포함
- 동일 입력 → 동일 결과 재현

---

## 6. 개발자 역할 분담

### 6.1 백엔드 개발자
- 시뮬레이션 API 설계
- 요청 해시 기반 캐싱
- 결과 조회 성능 최적화
- 파티션 생성/관리 자동화

### 6.2 분석·엔진 개발자
- 일간 수익률 결합 로직
- 포트폴리오 경로 계산
- 최대낙폭(MDD), 회복기간 산출
- 리스크 기여도 계산

### 6.3 프론트엔드 개발자
- 시나리오 비교 UX
- 손실·회복 중심 시각화
- 규제 안전 문구 고정 노출
- 결과 해석 보조 UI

---

## 7. 시뮬레이션 처리 흐름

1. 사용자 입력 수집 (기간, 손실한도, 시나리오)
2. 입력 정규화 및 요청 해시 생성
3. 기존 결과 존재 여부 확인
4. 포트폴리오 구성비 조회
5. 일간 수익률 결합
6. 포트폴리오 가치 경로 계산
7. 요약 지표 및 리스크 기여도 산출
8. DB 저장 후 결과 반환

### 개발 시 주의
- 랜덤 요소 사용 금지
- 결과는 반드시 설명 가능해야 함
- 수익률보다 손실 지표 우선 계산

---

## 8. 단계별 개발 로드맵

### Phase 1 (MVP)
- ETF 기반 자산군
- 시나리오 3종
- 기본 시뮬레이션

### Phase 2
- 목표 기반 확률 분석
- 위기 구간 비교
- 리스크 분해 시각화

### Phase 3
- API 제공
- 기관 연계
- 해외 자산 확대

---

## 9. 품질 기준 (Definition of Done)

- 동일 입력에 대해 결과가 변하지 않는다
- 모든 수치의 출처와 계산식이 설명 가능하다
- 금지 표현이 코드/문구 어디에도 존재하지 않는다
- 모델버전 없이 저장되는 결과가 없다

---

## 10. Foresto의 질문

Foresto는 항상 이 질문에 답해야 한다.

> “이 선택을 하면  
> 어떤 손실을 감내해야 하고,  
> 얼마나 걸려 회복되었는가?”

이 질문에 정직하게 답할 수 있다면,  
구현은 올바른 방향에 있다.

---
