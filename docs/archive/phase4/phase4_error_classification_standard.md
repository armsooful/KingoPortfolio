# Phase 4 에러 분류 체계

## 목적
장애 발생 시 원인 경로를 명확히 분류하고 대응 우선순위를 결정한다.

## 분류 체계

### 1. 사용자 오류 (User Error)
- 예시: 입력값 형식 오류, 권한 부족, 리소스 없음
- 대표 코드: 400, 401, 403, 404, 422
- 처리 원칙: 사용자 안내 메시지 제공, 재시도 조건 명확화

### 2. 시스템 오류 (System Error)
- 예시: 내부 예외, DB 장애, 서버 과부하
- 대표 코드: 500, 502, 503, 504
- 처리 원칙: Fail-safe 응답, 자동 알림, 롤백 고려

### 3. 외부 의존성 오류 (External Dependency)
- 예시: 외부 API 타임아웃, 서드파티 장애
- 대표 코드: 502, 503, 504
- 처리 원칙: 재시도/회로차단, 대체 경로 안내

## 로그 필수 필드
- error_type: USER | SYSTEM | EXTERNAL
- error_code: 표준 코드 (HTTP 또는 내부 코드)
- request_id: Correlation ID
- message: 요약 메시지
- path/method/status_code

## SLA/알림 연계
- SYSTEM/EXTERNAL 오류율 상승 시 알림
- 사용자 오류는 트렌드 분석용으로 별도 집계

## 완료 기준
- 모든 에러가 분류 기준에 따라 태깅됨
- 장애 1건에 대해 원인 경로 설명 가능
